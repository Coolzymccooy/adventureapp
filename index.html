<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tiwaton Adventure</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="landing-body">

  <!-- MAIN HEADER + NAV -->
  <header class="main-header">
    <div class="logo-area">
      <a href="index.html" class="tab-logo-link">
        <div class="logo-badge">TA</div>
        <div class="logo-text">
          <h1>Tiwaton Adventure</h1>
          <p class="logo-tagline">Where family time becomes legendary.</p>
        </div>
      </a>
    </div>

    <nav class="main-nav">
      <a href="stories.html">Stories &amp; Quizzes</a>
      <a href="drawing.html">Drawing &amp; Coloring</a>
      <a href="activities.html">Activities &amp; Reminders</a>
      <a href="games.html">Games &amp; Flashcards</a>
      <a href="countdown.html">Countdown &amp; Events</a>
    </nav>
  </header>

  <!-- MAIN LANDING CONTENT -->
    <!-- MAIN LANDING CONTENT -->
  <main class="landing-page">
    <!-- Floating background shapes -->
    <div class="floating-shape floating-shape-1"></div>
    <div class="floating-shape floating-shape-2"></div>
    <div class="floating-shape floating-shape-3"></div>

    <!-- HERO SECTION (now at the top) -->
    <section class="hero-section">
      <div class="hero-left">
        <div class="hero-chip">New âœ¨ Family Adventure Hub</div>

        <h2 class="hero-title">
          Screen time that<br />
          <span class="hero-highlight">actually brings you closer.</span>
        </h2>

        <p class="hero-subtitle">
          Draw. Laugh. Quiz. Plan. Count down to big moments.
          Tiwaton Adventure turns your living room into a mini theme park.
        </p>

        <div class="hero-cta-row">
          <a href="drawing.html" class="btn hero-btn-primary">
            ğŸ¨ Start Drawing Now
          </a>
          <a href="stories.html" class="btn hero-btn-ghost">
            ğŸ“š Jump into a story
          </a>
        </div>

        <div class="hero-mini-row">
          <span class="mini-pill">No logins</span>
          <span class="mini-pill">No ads</span>
          <span class="mini-pill">Just your favourite humans ğŸ’›</span>
        </div>

        <p class="hero-funny-line">
          *Warning:* Side effects may include random giggles and â€œone more game, please!â€.
        </p>
      </div>

      <div class="hero-right">
        <div class="hero-orbit-card floating-card">
          <div class="orbit-label">Today in your family universe</div>

          <div class="orbit-stat-row">
            <div class="orbit-stat">
              <div class="orbit-stat-number" id="xpCounter">0</div>
              <div class="orbit-stat-label">Family XP</div>
            </div>
            <div class="orbit-stat">
              <div class="orbit-stat-number" id="laughCounter">0</div>
              <div class="orbit-stat-label">Laughs logged*</div>
            </div>
          </div>

          <div class="orbit-progress">
            <div class="orbit-progress-bar">
              <div class="orbit-progress-fill" id="xpProgress"></div>
            </div>
            <p class="orbit-progress-text">
              Next unlock at <span id="xpGoal">5</span> drawings. Keep going, squad!
            </p>
          </div>

          <div class="hero-message-box">
            <span class="hero-message-label">Todayâ€™s silly message:</span>
            <span class="hero-message-text" id="funnyMessage">
              Loading family awesomenessâ€¦
            </span>
          </div>

          <p class="orbit-footnote">
            *Not scientifically accurate, but definitely emotionally correct.
          </p>
        </div>
      </div>
    </section>

    <!-- FAMILY SETUP (mandatory family code, but no redirect gate for now) -->
    <section class="family-setup-card">
      <h2>Start your family adventure</h2>
      <p>Choose a family code so all your drawings, stories and games stay together.</p>

      <div class="family-setup-grid">
        <input id="childName" type="text" placeholder="Child name (e.g. David)">
        <input id="familyCode" type="text" placeholder="Family code (e.g. SEGUN-FAMILY)">
      </div>

      <button id="startAdventureBtn" class="btn-primary-wide">
        Letâ€™s go!
      </button>

      <p class="family-setup-hint">
        Share this code with anyone you want to join your adventure.
      </p>
    </section>

    <!-- FAMILY DASHBOARD (Firestore metrics) -->
    <section class="family-dashboard">
      <div class="fd-header">
        <div class="fd-title">Family Progress</div>
        <div id="fdFamilyCode" class="fd-familycode">Code: â€”</div>
      </div>

      <div class="fd-stats">
        <div class="fd-stat-card">
          <div class="fd-icon">ğŸ“š</div>
          <div class="fd-label">Stories</div>
          <div id="fdStories" class="fd-value">0</div>
        </div>

        <div class="fd-stat-card">
          <div class="fd-icon">ğŸ¨</div>
          <div class="fd-label">Drawings</div>
          <div id="fdDrawings" class="fd-value">0</div>
        </div>

        <div class="fd-stat-card">
          <div class="fd-icon">ğŸ“</div>
          <div class="fd-label">Activities</div>
          <div id="fdActivities" class="fd-value">0</div>
        </div>

        <div class="fd-stat-card">
          <div class="fd-icon">ğŸ®</div>
          <div class="fd-label">Games</div>
          <div id="fdGames" class="fd-value">0</div>
        </div>
      </div>

      <div class="fd-footer">
        <span id="fdLastUpdated">Last updated: â€”</span>
      </div>
    </section>

    <!-- FEATURE CARDS -->
    <section class="feature-section">
      <h3 class="feature-heading">Pick your adventure for tonight</h3>

      <div class="feature-grid">
        <a href="drawing.html" class="feature-card feature-card-1">
          <div class="feature-emoji">ğŸ¨</div>
          <h4>Art Studio (aka Sofa)</h4>
          <p>Create superhero families, crazy houses and â€œabstract masterpiecesâ€.</p>
          <span class="feature-link">Open Drawing &amp; Coloring â†’</span>
        </a>

        <a href="stories.html" class="feature-card feature-card-2">
          <div class="feature-emoji">ğŸ“–</div>
          <h4>Story Time Portal</h4>
          <p>Short, fun stories and quizzes where your kids are the main characters.</p>
          <span class="feature-link">Go to Stories &amp; Quizzes â†’</span>
        </a>

        <a href="games.html" class="feature-card feature-card-3">
          <div class="feature-emoji">ğŸ§ </div>
          <h4>Brain Gym (Fun Version)</h4>
          <p>Mini games &amp; flashcards that quietly stretch their minds while they play.</p>
          <span class="feature-link">Explore Games &amp; Flashcards â†’</span>
        </a>

        <a href="countdown.html" class="feature-card feature-card-4">
          <div class="feature-emoji">ğŸ‰</div>
          <h4>Big Moments Countdown</h4>
          <p>Birthdays, holidays, sleepovers â€“ let the kids watch the days tick down.</p>
          <span class="feature-link">Open Countdown &amp; Events â†’</span>
        </a>
      </div>
    </section>

    <!-- FOOTNOTE / CTA -->
    <section class="landing-footnote">
      <p>
        Built for families who want more â€œremember when weâ€¦â€ and less â€œeveryone on their own screenâ€.
      </p>
      <p class="landing-small">
        Tip: Bookmark this page on the TV, tablet or laptop you use the most. Instant â€œFamily Timeâ€ button. ğŸš€
      </p>
    </section>
  </main>


  <!-- FOOTER -->
  <footer class="main-footer">
    <div class="footer-inner">
      <div class="footer-column footer-brand">
        <div class="footer-logo">
          <div class="footer-logo-badge">TA</div>
          <div class="footer-logo-text">
            <div class="footer-title">Tiwaton Adventure</div>
            <div class="footer-tagline">Screen time, but make it family time.</div>
          </div>
        </div>
        <p class="footer-mini">
          Built for giggles, memories and â€œremember when weâ€¦â€ moments.
        </p>
      </div>

      <div class="footer-column footer-links">
        <h4>Jump to</h4>
        <a href="stories.html">Stories &amp; Quizzes</a>
        <a href="drawing.html">Drawing &amp; Coloring</a>
        <a href="activities.html">Activities &amp; Reminders</a>
        <a href="games.html">Games &amp; Flashcards</a>
        <a href="countdown.html">Countdown &amp; Events</a>
      </div>

      <div class="footer-column footer-fun">
        <h4>Family fact of the moment</h4>
        <p id="footerFunLine">
          Loading something slightly sillyâ€¦
        </p>
        <p class="footer-mini">
          Tip: best enjoyed with snacks within armâ€™s reach. ğŸ¿
        </p>
      </div>
    </div>

    <div class="footer-bottom">
      <span>Â© <span id="footerYear"></span> Tiwaton Adventure.</span>
      <span class="footer-dot">â€¢</span>
      <span>Powered by love, laughter &amp; a bit of JavaScript.</span>
    </div>
  </footer>

  <!-- SCRIPTS -->

  <!-- Firebase SDKs (v8) so index can read family metrics -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <script>
    // same config as other pages
    var firebaseConfig = {
      apiKey: "AIzaSyAuc_qVtzxpk1EeahGt-_KoBEMxOTdBm5U",
      authDomain: "tiwaton-family-adventure.firebaseapp.com",
      projectId: "tiwaton-family-adventure",
      storageBucket: "tiwaton-family-adventure.firebasestorage.app",
      messagingSenderId: "53083980470",
      appId: "1:53083980470:web:dc41aa974cda42eaf61c17"
    };
    firebase.initializeApp(firebaseConfig);
    window.db = firebase.firestore();
  </script>

  <!-- Shared helpers (footer, family profile, dashboard widget, gate, etc.) -->
  <script src="js/common.js"></script>

  <!-- Family setup behaviour: require code before entering app -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const btn = document.getElementById("startAdventureBtn");
      if (!btn) return;

      btn.addEventListener("click", function () {
        const codeInput = document.getElementById("familyCode");
        const nameInput = document.getElementById("childName");
        const code = (codeInput.value || "").trim();
        const name = (nameInput.value || "").trim();

        if (!code) {
          codeInput.focus();
          codeInput.classList.add("input-error-shake");
          setTimeout(() => codeInput.classList.remove("input-error-shake"), 300);
          return;
        }

        if (typeof setGlobalFamilyCode === "function") {
          setGlobalFamilyCode(code);
        }
        if (name && typeof setGlobalChildName === "function") {
          setGlobalChildName(name);
        }

        // send them into the app (you can change the landing page if you prefer)
        window.location.href = "stories.html";
      });
    });
  </script>

  <!-- Tiny inline script just for landing-page fun text + counters -->
  <script>
    (function () {
      const funnyMessages = [
        "Plot twist: Mum is the real superhero.",
        "Current mood: snacks, stories, and zero homework talk.",
        "If giggles were Wi-Fi, your house would have full bars.",
        "Professional fun-havers detected in this household.",
        "Tonightâ€™s mission: keep Dad awake past 8:30pm.",
        "Family rule: whoever laughs the loudest wins.",
        "Loading extra joyâ€¦ please waitâ€¦ 3â€¦2â€¦1â€¦ ğŸ’¥",
        "Breaking news: your family just got 10% more awesome."
      ];

      const funnyEl = document.getElementById("funnyMessage");
      const xpEl = document.getElementById("xpCounter");
      const laughEl = document.getElementById("laughCounter");
      const xpProgress = document.getElementById("xpProgress");
      const xpGoalEl = document.getElementById("xpGoal");

      let xp = 0;
      let laughs = 0;
      const xpGoal = 5;

      function pickRandomMessage() {
        if (!funnyEl) return;
        const msg = funnyMessages[Math.floor(Math.random() * funnyMessages.length)];
        funnyEl.textContent = msg;
      }

      function animateCounters() {
        if (!xpEl || !laughEl || !xpProgress || !xpGoalEl) return;

        xpGoalEl.textContent = xpGoal;

        let step = 0;
        const maxSteps = 60;

        const targetXp = xpGoal + Math.floor(Math.random() * 12);
        const targetLaughs = 10 + Math.floor(Math.random() * 40);

        const interval = setInterval(() => {
          step++;
          const t = step / maxSteps;

          xp = Math.round(targetXp * t);
          laughs = Math.round(targetLaughs * t);

          xpEl.textContent = xp;
          laughEl.textContent = laughs;

          const progressPct = Math.min(100, (xp / xpGoal) * 100);
          xpProgress.style.width = progressPct + "%";

          if (step >= maxSteps) clearInterval(interval);
        }, 40);
      }

      pickRandomMessage();
      animateCounters();
      setInterval(pickRandomMessage, 7000);
    })();
  </script>
</body>
</html>
